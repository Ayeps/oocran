<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>
function initialize() {
  var dynamicColors = function() {
      var r = Math.floor(Math.random() * 255);
      var g = Math.floor(Math.random() * 255);
      var b = Math.floor(Math.random() * 255);
      return "rgb(" + r + "," + g + "," + b + ")";
  }
  var options = {
    center:new google.maps.LatLng({{nvfi.scenario.latitude}},{{nvfi.scenario.longitude}}),
    zoom:18,
    disableDefaultUI: true,
    scrollwheel: false,
    draggable: false,
    mapTypeId: google.maps.MapTypeId.MAP,
  };
  var map=new google.maps.Map(document.getElementById("map-canvas"),options);

  {% for nvf in object_list %}
    var {{nvf.rrh.name}} = new google.maps.Marker({
      position: {
        lat: {{nvf.rrh.latitude}},
        lng: {{nvf.rrh.longitude}}
      },
      icon: 'https://maps.gstatic.com/mapfiles/ms2/micons/blue-pushpin.png',
      draggable: true,
      map:map
    });
    {{nvf.rrh.name}}.addListener('click', function() {
      var infoWindow = new google.maps.InfoWindow({
          content: '<h5>IP: {{nvf.name}}</h5> <h6>freC: {{nvf.freC_DL}}'
      });
      infoWindow.open(map,{{nvf.rrh.name}});
    });
      var {{nvf.rrh.name}}_circle = new google.maps.Circle({
        map: map,
        radius: {{nvf.radio}},    // 10 miles in metres
        fillColor: '{{nvf.color_DL | safe}}'
      });

    {{nvf.rrh.name}}_circle.bindTo('center', {{nvf.rrh.name}}, 'position');
  {%endfor%}
}
google.maps.event.addDomListener(window, 'load', initialize);



</script>