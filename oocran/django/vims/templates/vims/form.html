{% load staticfiles %}
{% load bootstrap %}


<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	<h4 class="modal-title" id="myModalLabel">Register VIM</h4>
</div>

<div class="modal-body">
	<form id="form_id" method="POST" action="{% url 'vims:create' %}" enctype="multipart/form-data">
		{%csrf_token%}
		<ul class="nav nav-tabs">
			<li class="active"><a data-toggle="tab" href="#info">Information</a></li>
			<li><a data-toggle="tab" href="#type">Type</a></li>
		</ul>
		<div class="tab-content">
			<div id="info" class="tab-pane fade in active">
			  	<br>
			  	{{ form.name|bootstrap }}
			  	{{ form.ip|bootstrap }}
                {{ form.latitude|bootstrap }}
                {{ form.longitude|bootstrap }}
			</div>
			<div id="type" class="tab-pane fade">
				<br>
				{{ form.type|bootstrap }}
				<div id="openstack" style="display: block;">
					{{ form.username|bootstrap }}
					{{ form.password|bootstrap }}
					{{ form.password_confirmation|bootstrap }}
					{{ form.project_domain|bootstrap }}
					{{ form.project|bootstrap }}
					{{ form.domain|bootstrap }}
					{{ form.public_network|bootstrap }}
					{{ form.project|bootstrap }}
				</div>
				<div id="aws" style="display: none;">
					{{ form.access_key_id|bootstrap }}
				    {{ form.secret_access_key|bootstrap }}
				    {{ form.session_token|bootstrap }}
				    {{ form.keypair_name|bootstrap }}
			    </div>
			    <div id="azure" style="display: none;">
				    {{ form.tenant_id|bootstrap }}
				    {{ form.client_id|bootstrap }}
				    {{ form.client_secret|bootstrap }}
				    {{ form.subscription_id|bootstrap }}
			    </div>
			    <div id="gce" style="display: none;">
				    {{ form.google_project_id |bootstrap }}
				    {{ form.google_client_email|bootstrap }}
				    {{ form.google_json_key_location|bootstrap }}
			    </div>
			</div>
		</div>
		<input type="submit" class="btn btn-default" value="Register"/>
	</form>
</div>

<script>
	function select(object) {
		if (object.value == "OpenStack") {
			document.getElementById("openstack").style.display = "block";
			document.getElementById("aws").style.display = "none";
			document.getElementById("azure").style.display = "none";
			document.getElementById("gce").style.display = "none";
		}else if (object.value == "AWS") {
			document.getElementById("openstack").style.display = "none";
			document.getElementById("aws").style.display = "block";
			document.getElementById("azure").style.display = "none";
			document.getElementById("gce").style.display = "none";
		}else if (object.value == "Azure") {
		    document.getElementById("openstack").style.display = "none";
			document.getElementById("aws").style.display = "none";
			document.getElementById("azure").style.display = "block";
			document.getElementById("gce").style.display = "none";
		}else if (object.value == "GCE") {
		    document.getElementById("openstack").style.display = "none";
			document.getElementById("aws").style.display = "none";
			document.getElementById("azure").style.display = "none";
			document.getElementById("gce").style.display = "block";
		}else {
			document.getElementById("openstack").style.display = "block";
			document.getElementById("aws").style.display = "none";
			document.getElementById("azure").style.display = "none";
			document.getElementById("gce").style.display = "none";
		}
	}
</script>